{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
<div class="row mx-2">
	<div class="col-md-10 px-2">
		<h1 class="text-center mt-3">Biblioth√®que</h1>
		<p class="text-center">({{ nbBooks }} ouvrages)</p>
		{% for author in authors %}
			<div class="row">
				{% for book in author.books %}
					<div class="col-md-2">
					{% include 'book/_book.html.twig' %}
					</div>
				{% endfor %}
			</div>
		{% endfor %}

		{# <div class="pagination">
			{{ knp_pagination_render(authors)}}
		</div> #}

	</div>
	<div class="col px-2">

		<h3 class="mt-3">Rechercher ...</h3>
		{{ form_start(form) }}
		{{ form_row(form.stringToSearch)}}
		{{ form_row(form.authors)}}
		{{ form_row(form.books)}}

		<button id="search_button" class="btn btn-primary" onclick="showSpinner()">
			Rechercher
		</button>
		{{ form_end(form) }}	
	</div>
		

</div>

{% endblock %}

{% block javascripts %}
<script>
	function showSpinner(){

		el = document.getElementById("search_button");
		el.innerHTML = 'En cours ';
		el.innerHTML += '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>';
		el.innerHTML += '<span class="sr-only">Rechercher...</span>';

	}
</script>
{% endblock %}



